<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="stylesheet" href="./style.css">
    <script>
      const saved = localStorage.getItem("theme");
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      if (saved === "dark" || (!saved && prefersDark)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
  </head>
  <body>
    <button id="theme-toggle"></button>
    <button id="to-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">â†‘</button>
    <div id="content"></div>
    <script type="module">
      import { loadMarkdown } from "https://hacknock.github.io/lobsterjs/lobster.js";
      loadMarkdown("./content.md", document.getElementById("content"));

      const btn = document.getElementById("theme-toggle");
      const root = document.documentElement;
      const update = () => {
        btn.textContent = root.hasAttribute("data-theme") ? "Light" : "Dark";
      };
      btn.addEventListener("click", () => {
        const isDark = root.hasAttribute("data-theme");
        if (isDark) {
          root.removeAttribute("data-theme");
        } else {
          root.setAttribute("data-theme", "dark");
        }
        localStorage.setItem("theme", isDark ? "light" : "dark");
        update();
      });
      update();
    </script>
  </body>
</html>
